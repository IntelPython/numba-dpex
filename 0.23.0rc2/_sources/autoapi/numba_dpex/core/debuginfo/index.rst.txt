

:orphan:

numba_dpex.core.debuginfo
=========================

.. py:module:: numba_dpex.core.debuginfo

.. autoapi-nested-parse::

   Implements a custom debug metadata generator class for numba-dpex kernels.





Overview
--------
.. list-table:: Classes
   :header-rows: 0
   :widths: auto
   :class: summarytable

   * - :py:obj:`DIBuilder <numba_dpex.core.debuginfo.DIBuilder>`
     - Overrides Numba's default DIBuilder with numba-dpex-specific customizations.




Classes
-------

.. py:class:: DIBuilder(module, filepath, cgctx, directives_only)

   Bases: :py:obj:`numba.core.debuginfo.DIBuilder`

   Overrides Numba's default DIBuilder with numba-dpex-specific customizations.


   .. rubric:: Overview


   .. list-table:: Methods
      :header-rows: 0
      :widths: auto
      :class: summarytable

      * - :py:obj:`mark_subprogram <numba_dpex.core.debuginfo.DIBuilder.mark_subprogram>`\ (function, qualname, argnames, argtypes, line)
        - Sets DW_AT_name and DW_AT_linkagename tags for a kernel decorated function.


   .. rubric:: Members

   .. py:method:: mark_subprogram(function, qualname, argnames, argtypes, line)

      Sets DW_AT_name and DW_AT_linkagename tags for a kernel decorated function.

      Numba generates a unique name for every function it compiles, but in
      upstream Numba the unique name is not used as the "qualified" name of
      the function. The behavior leads to a bug discovered in Numba-dpex when
      a compiled function uses closure variables.
      Refer (https://github.com/IntelPython/numba-dpex/issues/898).
      To resolve the issue numba-dpex uses the unique_name as the qualified
      name. Refer to
      :class:`numba_dpex.core.passes.passes.QualNameDisambiguationLowering`.
      However, doing so breaks setting GDB breakpoints based on function
      name as the function name is no longer what is in the source, but what
      is the unique name generated by Numba. To fix it, numba-dpex uses a
      modified DISubprogram metadata generator. The name (DW_AT_name) tag is
      set to the base function name, discarding the unique qualifier and
      linkagename is set to an empty string.







