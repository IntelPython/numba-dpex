<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LGGL0NJK6P"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-LGGL0NJK6P');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Debugging Local Variables &mdash; numba-dpex 0.21.1+3.g94cea550 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Debugging Features in Numba 0.55" href="numba-0.55.html" />
    <link rel="prev" title="Altering Execution" href="altering.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            numba-dpex
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Core Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../CoreFeatures.html">Code-generation based on a device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CoreFeatures.html#automatic-offload-of-numpy-expressions">Automatic offload of NumPy expressions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html"> Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel_programming_guide/index.html"> Direct kernel programming</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html"> Debugging with GDB</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#example-of-intel-distribution-for-gdb-usage">Example of Intel® Distribution for GDB* usage</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#features-and-limitations">Features and Limitations</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="features.html">Supported Features</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="breakpoints.html">Breakpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="stepping.html">Stepping</a></li>
<li class="toctree-l4"><a class="reference internal" href="frame_info.html">Information About a Frame</a></li>
<li class="toctree-l4"><a class="reference internal" href="backtrace.html">Backtrace</a></li>
<li class="toctree-l4"><a class="reference internal" href="data.html">Examining Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="symbols.html">Examining the Symbol Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="altering.html">Altering Execution</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Debugging Local Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="numba-0.55.html">Debugging Features in Numba 0.55</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="limitations.html">Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="common_issues.html">Common issues and tips</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../docker.html"> Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrating_from_numba_cuda.html"> numba-dpex for numba.cuda Programmers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guides/dpnp_integration.html">dpnp integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guides/tools.html">Debugging the compilation pipeline</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">numba-dpex</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Debugging with Intel® Distribution for GDB*</a></li>
          <li class="breadcrumb-item"><a href="features.html">Supported Features</a></li>
      <li class="breadcrumb-item active">Debugging Local Variables</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/user_guides/debugging/local_variables.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="debugging-local-variables">
<h1>Debugging Local Variables<a class="headerlink" href="#debugging-local-variables" title="Permalink to this heading"></a></h1>
<p>Several conditions could influence debugging of local variables:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#numba-opt"><span class="std std-ref">Optimization Level for LLVM</span></a></p></li>
<li><p><a class="reference internal" href="#local-variables-lifetime"><span class="std std-ref">Local Variables Lifetime in Numba IR</span></a></p></li>
</ol>
<section id="optimization-level-for-llvm">
<span id="numba-opt"></span><h2>Optimization Level for LLVM<a class="headerlink" href="#optimization-level-for-llvm" title="Permalink to this heading"></a></h2>
<p>Numba provides environment variable <code class="docutils literal notranslate"><span class="pre">NUMBA_OPT</span></code> for configuring
optimization level for LLVM. The default optimization level is three.
Refer <a class="reference external" href="https://numba.readthedocs.io/en/stable/reference/envvars.html?#envvar-NUMBA_OPT">Numba documentation</a> for details. It is recommended to debug with
<code class="samp docutils literal notranslate"><span class="pre">NUMBA_OPT=0</span></code>. The possible effect of various optimization levels may be
as follows:</p>
<ul class="simple">
<li><p><code class="samp docutils literal notranslate"><span class="pre">NUMBA_OPT=0</span></code> means “no optimization” level - all local variables are available.</p></li>
<li><p><code class="samp docutils literal notranslate"><span class="pre">NUMBA_OPT=1</span></code> or higher levels - some variables may be optimized out.</p></li>
</ul>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h3>
<p>Source code <code class="file docutils literal notranslate"><span class="pre">numba_dpex/examples/debug/sum_local_vars.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">11</span><span class="nd">@ndpx</span><span class="o">.</span><span class="n">kernel</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">12</span><span class="k">def</span> <span class="nf">data_parallel_sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="linenos">13</span>    <span class="n">i</span> <span class="o">=</span> <span class="n">ndpx</span><span class="o">.</span><span class="n">get_global_id</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">14</span>    <span class="n">l1</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span>
<span class="linenos">15</span>    <span class="n">l2</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.3</span>
<span class="hll"><span class="linenos">16</span>    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">l1</span> <span class="o">+</span> <span class="n">l2</span>
</span></pre></div>
</div>
<p>Debug session with <code class="samp docutils literal notranslate"><span class="pre">NUMBA_OPT=0</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>gdb-oneapi<span class="w"> </span>-q<span class="w"> </span>python
<span class="go">...</span>
<span class="hll"><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">set environment NUMBA_OPT 0</span>
</span><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">break sum_local_vars.py:26</span>
<span class="go">...</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">run numba_dpex/examples/debug/sum_local_vars.py</span>
<span class="go">...</span>
<span class="go">Thread 2.1 hit Breakpoint 1, with SIMD lanes [0-7], __main__::data_parallel_sum (a=..., b=..., c=...) at sum_local_vars.py:26</span>
<span class="go">26          c[i] = l1 + l2</span>
<span class="hll"><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">info locals</span>
</span><span class="hll"><span class="go">i = 0</span>
</span><span class="hll"><span class="go">l1 = 2.9795852899551392</span>
</span><span class="hll"><span class="go">l2 = 0.22986688613891601</span>
</span></pre></div>
</div>
<p>It printed all local variables with their values.</p>
<p>Debug session with <code class="samp docutils literal notranslate"><span class="pre">NUMBA_OPT=1</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>gdb-oneapi<span class="w"> </span>-q<span class="w"> </span>python
<span class="go">...</span>
<span class="hll"><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">set environment NUMBA_OPT 1</span>
</span><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">break sum_local_vars.py:26</span>
<span class="go">...</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">run numba_dpex/examples/debug/sum_local_vars.py</span>
<span class="go">...</span>
<span class="go">Thread 2.1 hit Breakpoint 1, with SIMD lanes [0-7], ?? () at sum_local_vars.py:26 from /tmp/kernel_11059955544143858990_e6df1e.dbgelf</span>
<span class="go">26          c[i] = l1 + l2</span>
<span class="hll"><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">info locals</span>
</span><span class="hll"><span class="go">No locals.</span>
</span></pre></div>
</div>
<p>It optimized out local variables <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">l1</span></code> and <code class="docutils literal notranslate"><span class="pre">l2</span></code> with this optimization level.</p>
</section>
</section>
<section id="local-variables-lifetime-in-numba-ir">
<span id="local-variables-lifetime"></span><h2>Local Variables Lifetime in Numba IR<a class="headerlink" href="#local-variables-lifetime-in-numba-ir" title="Permalink to this heading"></a></h2>
<p>Lifetime of Python variables are different from lifetime of variables in compiled code.
Numba analyses variables lifetime and try to optimize it.
The debugger can show the variable values, but they may be zeros
after the variable is explicitly deleted when the scope of variable is ended.</p>
<p>See <a class="reference external" href="https://numba.pydata.org/numba-doc/latest/developer/live_variable_analysis.html?highlight=delete#live-variable-analysis">Numba variable policy</a>.</p>
<p>Numba provides environment variable <code class="docutils literal notranslate"><span class="pre">NUMBA_EXTEND_VARIABLE_LIFETIMES</span></code>
for extending the lifetime of variables to the end of the block in which their lifetime ends.</p>
<p>See <a class="reference external" href="https://numba.readthedocs.io/en/stable/reference/envvars.html?#envvar-NUMBA_OPT">Numba documentation</a>.</p>
<p>Default is zero.</p>
<p>It is recommended to debug with <code class="samp docutils literal notranslate"><span class="pre">NUMBA_EXTEND_VARIABLE_LIFETIMES=1</span></code>.</p>
<section id="example-1-using-numba-extend-variable-lifetimes">
<h3>Example 1 - Using <code class="docutils literal notranslate"><span class="pre">NUMBA_EXTEND_VARIABLE_LIFETIMES</span></code><a class="headerlink" href="#example-1-using-numba-extend-variable-lifetimes" title="Permalink to this heading"></a></h3>
<p>Source code <code class="file docutils literal notranslate"><span class="pre">numba_dpex/tests/debugging/test_info.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">14</span><span class="k">def</span> <span class="nf">common_loop_body</span><span class="p">(</span><span class="n">param_a</span><span class="p">,</span> <span class="n">param_b</span><span class="p">):</span>
<span class="linenos">15</span>    <span class="n">param_c</span> <span class="o">=</span> <span class="n">param_a</span> <span class="o">+</span> <span class="mi">10</span>  <span class="c1"># Set breakpoint here</span>
<span class="linenos">16</span>    <span class="n">param_d</span> <span class="o">=</span> <span class="n">param_b</span> <span class="o">*</span> <span class="mf">0.5</span>
<span class="linenos">17</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">param_c</span> <span class="o">+</span> <span class="n">param_d</span>
<span class="hll"><span class="linenos">18</span>    <span class="k">return</span> <span class="n">result</span>
</span></pre></div>
</div>
<p>Debug session with <code class="samp docutils literal notranslate"><span class="pre">NUMBA_EXTEND_VARIABLE_LIFETIMES=1</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>gdb-oneapi<span class="w"> </span>-q<span class="w"> </span>python
<span class="go">...</span>
<span class="hll"><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">set environment NUMBA_EXTEND_VARIABLE_LIFETIMES 1</span>
</span><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">break side-by-side.py:28</span>
<span class="go">...</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">run numba_dpex/examples/debug/side-by-side.py --api=numba-dpex-kernel</span>
<span class="go">...</span>
<span class="go">Thread 2.1 hit Breakpoint 1, with SIMD lanes [0-7], __main__::common_loop_body (param_a=0, param_b=0) at side-by-side.py:28</span>
<span class="go">28          return result</span>
<span class="hll"><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">info locals</span>
</span><span class="hll"><span class="go">param_c = 10</span>
</span><span class="hll"><span class="go">param_d = 0</span>
</span><span class="go">result = 10</span>
</pre></div>
</div>
<p>It prints values of <code class="docutils literal notranslate"><span class="pre">param_c</span></code> and <code class="docutils literal notranslate"><span class="pre">param_d</span></code>.</p>
<p>Debug session with <code class="samp docutils literal notranslate"><span class="pre">NUMBA_EXTEND_VARIABLE_LIFETIMES=0</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>gdb-oneapi<span class="w"> </span>-q<span class="w"> </span>python
<span class="go">...</span>
<span class="hll"><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">set environment NUMBA_EXTEND_VARIABLE_LIFETIMES 0</span>
</span><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">break side-by-side.py:28</span>
<span class="go">...</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">run numba_dpex/examples/debug/side-by-side.py --api=numba-dpex-kernel</span>
<span class="go">...</span>
<span class="go">Thread 2.1 hit Breakpoint 1, with SIMD lanes [0-7], __main__::common_loop_body (param_a=0, param_b=0) at side-by-side.py:28</span>
<span class="go">28          return result</span>
<span class="hll"><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">info locals</span>
</span><span class="hll"><span class="go">param_c = 0</span>
</span><span class="hll"><span class="go">param_d = 0</span>
</span><span class="go">result = 10</span>
</pre></div>
</div>
</section>
<section id="example-2-using-numba-dump-annotation">
<span id="example-numba-dump-annotation"></span><h3>Example 2 - Using <code class="docutils literal notranslate"><span class="pre">NUMBA_DUMP_ANNOTATION</span></code><a class="headerlink" href="#example-2-using-numba-dump-annotation" title="Permalink to this heading"></a></h3>
<p>Source code <code class="file docutils literal notranslate"><span class="pre">numba_dpex/examples/debug/sum_local_vars.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">11</span><span class="nd">@ndpx</span><span class="o">.</span><span class="n">kernel</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">12</span><span class="k">def</span> <span class="nf">data_parallel_sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="linenos">13</span>    <span class="n">i</span> <span class="o">=</span> <span class="n">ndpx</span><span class="o">.</span><span class="n">get_global_id</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">14</span>    <span class="n">l1</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span>
<span class="linenos">15</span>    <span class="n">l2</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.3</span>
<span class="linenos">16</span>    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">l1</span> <span class="o">+</span> <span class="n">l2</span>
</pre></div>
</div>
<p>Run this code with environment variable <code class="samp docutils literal notranslate"><span class="pre">NUMBA_DUMP_ANNOTATION=1</span></code> and it
will show where numba inserts <cite>del</cite> for variables.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="o">-----------------------------------</span><span class="n">ANNOTATION</span><span class="o">-----------------------------------</span>
<span class="linenos"> 2</span><span class="c1"># File: numba_dpex/examples/debug/sum_local_vars.py</span>
<span class="linenos"> 3</span><span class="c1"># --- LINE 20 ---</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="nd">@numba_dpex</span><span class="o">.</span><span class="n">kernel</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="c1"># --- LINE 21 ---</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="k">def</span> <span class="nf">data_parallel_sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="linenos">10</span>
<span class="linenos">11</span>    <span class="c1"># --- LINE 22 ---</span>
<span class="linenos">12</span>    <span class="c1"># label 0</span>
<span class="linenos">13</span>    <span class="c1">#   a = arg(0, name=a)  :: array(float32, 1d, C)</span>
<span class="linenos">14</span>    <span class="c1">#   b = arg(1, name=b)  :: array(float32, 1d, C)</span>
<span class="linenos">15</span>    <span class="c1">#   c = arg(2, name=c)  :: array(float32, 1d, C)</span>
<span class="linenos">16</span>    <span class="c1">#   $2load_global.0 = global(dpex: &lt;module &#39;numba_dpex&#39; from &#39;.../numba-dpex/numba_dpex/__init__.py&#39;&gt;)  :: Module(&lt;module &#39;numba_dpex&#39; from &#39;.../numba-dpex/numba_dpex/__init__.py&#39;&gt;)</span>
<span class="linenos">17</span>    <span class="c1">#   $4load_method.1 = getattr(value=$2load_global.0, attr=get_global_id)  :: Function(&lt;function get_global_id at 0x7f82b8bae430&gt;)</span>
<span class="linenos">18</span>    <span class="c1">#   del $2load_global.0</span>
<span class="linenos">19</span>    <span class="c1">#   $const6.2 = const(int, 0)  :: Literal[int](0)</span>
<span class="linenos">20</span>    <span class="c1">#   i = call $4load_method.1($const6.2, func=$4load_method.1, args=[Var($const6.2, sum_local_vars.py:22)], kws=(), vararg=None, target=None)  :: (uint32,) -&gt; int64</span>
<span class="linenos">21</span>    <span class="c1">#   del $const6.2</span>
<span class="linenos">22</span>    <span class="c1">#   del $4load_method.1</span>
<span class="linenos">23</span>
<span class="linenos">24</span>    <span class="n">i</span> <span class="o">=</span> <span class="n">dpex</span><span class="o">.</span><span class="n">get_global_id</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="c1"># --- LINE 23 ---</span>
<span class="linenos">27</span>    <span class="c1">#   $16binary_subscr.6 = getitem(value=a, index=i, fn=&lt;built-in function getitem&gt;)  :: float32</span>
<span class="hll"><span class="linenos">28</span>    <span class="c1">#   del a</span>
</span><span class="linenos">29</span>    <span class="c1">#   $const18.7 = const(float, 2.5)  :: float64</span>
<span class="linenos">30</span>    <span class="c1">#   l1 = $16binary_subscr.6 + $const18.7  :: float64</span>
<span class="linenos">31</span>    <span class="c1">#   del $const18.7</span>
<span class="linenos">32</span>    <span class="c1">#   del $16binary_subscr.6</span>
<span class="linenos">33</span>
<span class="linenos">34</span>    <span class="n">l1</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span>
<span class="linenos">35</span>
<span class="linenos">36</span>    <span class="c1"># --- LINE 24 ---</span>
<span class="linenos">37</span>    <span class="c1">#   $28binary_subscr.11 = getitem(value=b, index=i, fn=&lt;built-in function getitem&gt;)  :: float32</span>
<span class="linenos">38</span>    <span class="c1">#   del b</span>
<span class="linenos">39</span>    <span class="c1">#   $const30.12 = const(float, 0.3)  :: float64</span>
<span class="linenos">40</span>    <span class="c1">#   l2 = $28binary_subscr.11 * $const30.12  :: float64</span>
<span class="linenos">41</span>    <span class="c1">#   del $const30.12</span>
<span class="linenos">42</span>    <span class="c1">#   del $28binary_subscr.11</span>
<span class="linenos">43</span>
<span class="linenos">44</span>    <span class="n">l2</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.3</span>
<span class="linenos">45</span>
<span class="linenos">46</span>    <span class="c1"># --- LINE 25 ---</span>
<span class="linenos">47</span>    <span class="c1">#   $40binary_add.16 = l1 + l2  :: float64</span>
<span class="linenos">48</span>    <span class="c1">#   del l2</span>
<span class="linenos">49</span>    <span class="c1">#   del l1</span>
<span class="linenos">50</span>    <span class="c1">#   c[i] = $40binary_add.16  :: (array(float32, 1d, C), int64, float64) -&gt; none</span>
<span class="linenos">51</span>    <span class="c1">#   del i</span>
<span class="linenos">52</span>    <span class="c1">#   del c</span>
<span class="linenos">53</span>    <span class="c1">#   del $40binary_add.16</span>
<span class="linenos">54</span>    <span class="c1">#   $const48.19 = const(NoneType, None)  :: none</span>
<span class="linenos">55</span>    <span class="c1">#   $50return_value.20 = cast(value=$const48.19)  :: none</span>
<span class="linenos">56</span>    <span class="c1">#   del $const48.19</span>
<span class="linenos">57</span>    <span class="c1">#   return $50return_value.20</span>
<span class="linenos">58</span>
<span class="linenos">59</span>    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">l1</span> <span class="o">+</span> <span class="n">l2</span>
</pre></div>
</div>
<p>I.e. in <cite>LINE 23</cite> variable <cite>a</cite> used the last time and numba inserts <cite>del a</cite> as
shown in annotated code in line 28. It means you will see value 0 for the
variable <cite>a</cite> when you set breakpoint at <cite>LINE 24</cite>.</p>
<p>As a workaround you can expand lifetime of the variable by using it (i.e.
passing to dummy function <cite>revive()</cite>) at the end of the function. So numba will
not insert <cite>del a</cite> until the end of the function.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">20</span>    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">l1</span> <span class="o">+</span> <span class="n">l2</span>
<span class="linenos">21</span>    <span class="n">revive</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># pass variable to dummy function</span>
<span class="linenos">22</span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="n">global_size</span> <span class="o">=</span> <span class="mi">10</span>
<span class="linenos">25</span><span class="n">N</span> <span class="o">=</span> <span class="n">global_size</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">N</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="linenos">28</span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">N</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="linenos">29</span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="n">data_parallel_sum</span><span class="p">[</span><span class="n">ndpx</span><span class="o">.</span><span class="n">Range</span><span class="p">(</span><span class="n">global_size</span><span class="p">)](</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="o">-----------------------------------</span><span class="n">ANNOTATION</span><span class="o">-----------------------------------</span>
<span class="linenos"> 2</span><span class="c1"># File: numba_dpex/examples/debug/sum_local_vars_revive.py</span>
<span class="linenos"> 3</span><span class="c1"># --- LINE 24 ---</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="nd">@numba_dpex</span><span class="o">.</span><span class="n">kernel</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="c1"># --- LINE 25 ---</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="k">def</span> <span class="nf">data_parallel_sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="linenos">10</span>
<span class="linenos">11</span>    <span class="c1"># --- LINE 26 ---</span>
<span class="linenos">12</span>    <span class="c1"># label 0</span>
<span class="linenos">13</span>    <span class="c1">#   a = arg(0, name=a)  :: array(float32, 1d, C)</span>
<span class="linenos">14</span>    <span class="c1">#   b = arg(1, name=b)  :: array(float32, 1d, C)</span>
<span class="linenos">15</span>    <span class="c1">#   c = arg(2, name=c)  :: array(float32, 1d, C)</span>
<span class="linenos">16</span>    <span class="c1">#   $2load_global.0 = global(dpex: &lt;module &#39;numba_dpex&#39; from &#39;.../numba-dpex/numba_dpex/__init__.py&#39;&gt;)  :: Module(&lt;module &#39;numba_dpex&#39; from &#39;.../numba-dpex/numba_dpex/__init__.py&#39;&gt;)</span>
<span class="linenos">17</span>    <span class="c1">#   $4load_method.1 = getattr(value=$2load_global.0, attr=get_global_id)  :: Function(&lt;function get_global_id at 0x7fcdf7e8c4c0&gt;)</span>
<span class="linenos">18</span>    <span class="c1">#   del $2load_global.0</span>
<span class="linenos">19</span>    <span class="c1">#   $const6.2 = const(int, 0)  :: Literal[int](0)</span>
<span class="linenos">20</span>    <span class="c1">#   i = call $4load_method.1($const6.2, func=$4load_method.1, args=[Var($const6.2, sum_local_vars_revive.py:26)], kws=(), vararg=None, target=None)  :: (uint32,) -&gt; int64</span>
<span class="linenos">21</span>    <span class="c1">#   del $const6.2</span>
<span class="linenos">22</span>    <span class="c1">#   del $4load_method.1</span>
<span class="linenos">23</span>
<span class="linenos">24</span>    <span class="n">i</span> <span class="o">=</span> <span class="n">dpex</span><span class="o">.</span><span class="n">get_global_id</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="c1"># --- LINE 27 ---</span>
<span class="linenos">27</span>    <span class="c1">#   $16binary_subscr.6 = getitem(value=a, index=i, fn=&lt;built-in function getitem&gt;)  :: float32</span>
<span class="linenos">28</span>    <span class="c1">#   $const18.7 = const(float, 2.5)  :: float64</span>
<span class="linenos">29</span>    <span class="c1">#   l1 = $16binary_subscr.6 + $const18.7  :: float64</span>
<span class="linenos">30</span>    <span class="c1">#   del $const18.7</span>
<span class="linenos">31</span>    <span class="c1">#   del $16binary_subscr.6</span>
<span class="linenos">32</span>
<span class="linenos">33</span>    <span class="n">l1</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mf">2.5</span>
<span class="linenos">34</span>
<span class="linenos">35</span>    <span class="c1"># --- LINE 28 ---</span>
<span class="linenos">36</span>    <span class="c1">#   $28binary_subscr.11 = getitem(value=b, index=i, fn=&lt;built-in function getitem&gt;)  :: float32</span>
<span class="linenos">37</span>    <span class="c1">#   del b</span>
<span class="linenos">38</span>    <span class="c1">#   $const30.12 = const(float, 0.3)  :: float64</span>
<span class="linenos">39</span>    <span class="c1">#   l2 = $28binary_subscr.11 * $const30.12  :: float64</span>
<span class="linenos">40</span>    <span class="c1">#   del $const30.12</span>
<span class="linenos">41</span>    <span class="c1">#   del $28binary_subscr.11</span>
<span class="linenos">42</span>
<span class="linenos">43</span>    <span class="n">l2</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.3</span>
<span class="linenos">44</span>
<span class="linenos">45</span>    <span class="c1"># --- LINE 29 ---</span>
<span class="linenos">46</span>    <span class="c1">#   $40binary_add.16 = l1 + l2  :: float64</span>
<span class="linenos">47</span>    <span class="c1">#   del l2</span>
<span class="linenos">48</span>    <span class="c1">#   del l1</span>
<span class="linenos">49</span>    <span class="c1">#   c[i] = $40binary_add.16  :: (array(float32, 1d, C), int64, float64) -&gt; none</span>
<span class="linenos">50</span>    <span class="c1">#   del i</span>
<span class="linenos">51</span>    <span class="c1">#   del c</span>
<span class="linenos">52</span>    <span class="c1">#   del $40binary_add.16</span>
<span class="linenos">53</span>
<span class="linenos">54</span>    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">l1</span> <span class="o">+</span> <span class="n">l2</span>
<span class="linenos">55</span>
<span class="linenos">56</span>    <span class="c1"># --- LINE 30 ---</span>
<span class="linenos">57</span>    <span class="c1">#   $48load_global.19 = global(revive: &lt;numba_dpex.compiler.DpexFunctionTemplate object at 0x7fce12e5cc40&gt;)  :: Function(&lt;numba_dpex.compiler.DpexFunctionTemplate object at 0x7fce12e5cc40&gt;)</span>
<span class="linenos">58</span>    <span class="c1">#   $52call_function.21 = call $48load_global.19(a, func=$48load_global.19, args=[Var(a, sum_local_vars_revive.py:26)], kws=(), vararg=None, target=None)  :: (array(float32, 1d, C),) -&gt; array(float32, 1d, C)</span>
<span class="hll"><span class="linenos">59</span>    <span class="c1">#   del a</span>
</span><span class="linenos">60</span>    <span class="c1">#   del $52call_function.21</span>
<span class="linenos">61</span>    <span class="c1">#   del $48load_global.19</span>
<span class="linenos">62</span>    <span class="c1">#   $const56.22 = const(NoneType, None)  :: none</span>
<span class="linenos">63</span>    <span class="c1">#   $58return_value.23 = cast(value=$const56.22)  :: none</span>
<span class="linenos">64</span>    <span class="c1">#   del $const56.22</span>
<span class="linenos">65</span>    <span class="c1">#   return $58return_value.23</span>
<span class="linenos">66</span>
<span class="linenos">67</span>    <span class="n">revive</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># pass variable to dummy function</span>
</pre></div>
</div>
<p>Run with environment variables <code class="samp docutils literal notranslate"><span class="pre">NUMBA_DUMP_ANNOTATION=1</span></code> and
<code class="samp docutils literal notranslate"><span class="pre">NUMBA_EXTEND_VARIABLE_LIFETIMES=1</span></code>.
It will show that numba inserts <cite>del</cite> for variables at the end of the block:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="o">-----------------------------------</span><span class="n">ANNOTATION</span><span class="o">-----------------------------------</span>
<span class="linenos"> 2</span><span class="c1"># File: numba_dpex/examples/debug/sum_local_vars.py</span>
<span class="linenos"> 3</span><span class="o">...</span>
<span class="linenos"> 4</span><span class="k">def</span> <span class="nf">data_parallel_sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="linenos"> 5</span>    <span class="o">...</span>
<span class="linenos"> 6</span>    <span class="c1"># --- LINE 26 ---</span>
<span class="linenos"> 7</span>    <span class="c1">#   $40binary_add.16 = l1 + l2  :: float64</span>
<span class="linenos"> 8</span>    <span class="c1">#   c[i] = $40binary_add.16  :: (array(float32, 1d, C), int64, float64) -&gt; none</span>
<span class="linenos"> 9</span>    <span class="c1">#   $const48.19 = const(NoneType, None)  :: none</span>
<span class="linenos">10</span>    <span class="c1">#   $50return_value.20 = cast(value=$const48.19)  :: none</span>
<span class="hll"><span class="linenos">11</span>    <span class="c1">#   del $2load_global.0</span>
</span><span class="hll"><span class="linenos">12</span>    <span class="c1">#   del $const6.2</span>
</span><span class="hll"><span class="linenos">13</span>    <span class="c1">#   del $4load_method.1</span>
</span><span class="hll"><span class="linenos">14</span>    <span class="c1">#   del a</span>
</span><span class="hll"><span class="linenos">15</span>    <span class="c1">#   del $const18.7</span>
</span><span class="hll"><span class="linenos">16</span>    <span class="c1">#   del $16binary_subscr.6</span>
</span><span class="hll"><span class="linenos">17</span>    <span class="c1">#   del b</span>
</span><span class="hll"><span class="linenos">18</span>    <span class="c1">#   del $const30.12</span>
</span><span class="hll"><span class="linenos">19</span>    <span class="c1">#   del $28binary_subscr.11</span>
</span><span class="hll"><span class="linenos">20</span>    <span class="c1">#   del l2</span>
</span><span class="hll"><span class="linenos">21</span>    <span class="c1">#   del l1</span>
</span><span class="hll"><span class="linenos">22</span>    <span class="c1">#   del i</span>
</span><span class="hll"><span class="linenos">23</span>    <span class="c1">#   del c</span>
</span><span class="hll"><span class="linenos">24</span>    <span class="c1">#   del $40binary_add.16</span>
</span><span class="hll"><span class="linenos">25</span>    <span class="c1">#   del $const48.19</span>
</span><span class="linenos">26</span>    <span class="c1">#   return $50return_value.20</span>
<span class="linenos">27</span>
<span class="linenos">28</span>    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">l1</span> <span class="o">+</span> <span class="n">l2</span>
</pre></div>
</div>
</section>
<section id="example-3-using-info-locals">
<h3>Example 3 - Using <code class="docutils literal notranslate"><span class="pre">info</span> <span class="pre">locals</span></code><a class="headerlink" href="#example-3-using-info-locals" title="Permalink to this heading"></a></h3>
<p>Source code <code class="file docutils literal notranslate"><span class="pre">sum_local_vars.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">15</span>    <span class="n">l2</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.3</span>
<span class="linenos">16</span>    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">l1</span> <span class="o">+</span> <span class="n">l2</span>
<span class="linenos">17</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="n">global_size</span> <span class="o">=</span> <span class="mi">10</span>
<span class="linenos">20</span><span class="n">N</span> <span class="o">=</span> <span class="n">global_size</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">N</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="linenos">23</span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">N</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="linenos">24</span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="n">data_parallel_sum</span><span class="p">[</span><span class="n">ndpx</span><span class="o">.</span><span class="n">Range</span><span class="p">(</span><span class="n">global_size</span><span class="p">)](</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done...&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Run the debugger with <code class="docutils literal notranslate"><span class="pre">NUMBA_OPT=0</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nv">NUMBA_OPT</span><span class="o">=</span><span class="m">0</span><span class="w"> </span>gdb-oneapi<span class="w"> </span>-q<span class="w"> </span>python
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">set breakpoint pending on</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">break sum_local_vars.py:22</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">run sum_local_vars.py</span>
<span class="go">...</span>
<span class="go">Thread 2.2 hit Breakpoint 1, with SIMD lanes [0-7], __main__::data_parallel_sum () at sum_local_vars.py:22</span>
</pre></div>
</div>
<p>Run the <code class="docutils literal notranslate"><span class="pre">info</span> <span class="pre">locals</span></code> command. The sample output on “no optimization” level <code class="docutils literal notranslate"><span class="pre">NUMBA_OPT=0</span></code> is as follows:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">info locals</span>
</span><span class="hll"><span class="go">a = &#39;\000&#39; &lt;repeats 55 times&gt;</span>
</span><span class="hll"><span class="go">b = &#39;\000&#39; &lt;repeats 55 times&gt;</span>
</span><span class="hll"><span class="go">c = &#39;\000&#39; &lt;repeats 55 times&gt;</span>
</span><span class="hll"><span class="go">i = 0</span>
</span><span class="hll"><span class="go">l1 = 0</span>
</span><span class="hll"><span class="go">l2 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_gid0 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_gid1 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_gid2 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_lid0 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_lid1 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_lid2 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_grid0 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_grid1 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_grid2 = 0</span>
</span><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">next</span>
<span class="go">Thread 2.3 hit Breakpoint 1, with SIMD lanes [0-1], __main__::data_parallel_sum () at sum_local_vars.py:22</span>
<span class="go">22          i = dpex.get_global_id(0)</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">next</span>
<span class="go">23          l1 = a[i] + 2.5</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">next</span>
<span class="go">24          l2 = b[i] * 0.3</span>
<span class="hll"><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">info locals</span>
</span><span class="hll"><span class="go">a = &#39;\000&#39; &lt;repeats 55 times&gt;</span>
</span><span class="hll"><span class="go">b = &#39;\000&#39; &lt;repeats 16 times&gt;, &quot;\n\000\000\000\000\000\000\000\004\000\000\000\000\000\000\000\000\240\016XUU\000\000\n\000\000\000\000\000\000\000\004\000\000\000\000\000\000&quot;</span>
</span><span class="hll"><span class="go">c = &#39;\000&#39; &lt;repeats 16 times&gt;, &quot;\n\000\000\000\000\000\000\000\004\000\000\000\000\000\000\000\000@\256WUU\000\000\n\000\000\000\000\000\000\000\004\000\000\000\000\000\000&quot;</span>
</span><span class="hll"><span class="go">i = 8</span>
</span><span class="hll"><span class="go">l1 = 2.5931931659579277</span>
</span><span class="hll"><span class="go">l2 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_gid0 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_gid1 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_gid2 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_lid0 = 42949672970</span>
</span><span class="hll"><span class="go">__ocl_dbg_lid1 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_lid2 = 93825037590528</span>
</span><span class="hll"><span class="go">__ocl_dbg_grid0 = 4612811918334230528</span>
</span><span class="hll"><span class="go">__ocl_dbg_grid1 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_grid2 = 0</span>
</span><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">next</span>
<span class="go">25          c[i] = l1 + l2</span>
</pre></div>
</div>
<p>Since the debugger does not hit a line with the target variable <code class="docutils literal notranslate"><span class="pre">l1</span></code>, the value equals 0. The true value of the variable <code class="docutils literal notranslate"><span class="pre">l1</span></code> is shown after stepping to line 22.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">info locals</span>
</span><span class="hll"><span class="go">a = &#39;\000&#39; &lt;repeats 55 times&gt;</span>
</span><span class="hll"><span class="go">b = &#39;\000&#39; &lt;repeats 55 times&gt;</span>
</span><span class="hll"><span class="go">c = &#39;\000&#39; &lt;repeats 16 times&gt;, &quot;\n\000\000\000\000\000\000\000\004\000\000\000\000\000\000\000\000@\256WUU\000\000\n\000\000\000\000\000\000\000\004\000\000\000\000\000\000&quot;</span>
</span><span class="hll"><span class="go">i = 8</span>
</span><span class="hll"><span class="go">l1 = 2.5931931659579277</span>
</span><span class="hll"><span class="go">l2 = 0.22954882979393004</span>
</span><span class="hll"><span class="go">__ocl_dbg_gid0 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_gid1 = 8</span>
</span><span class="hll"><span class="go">__ocl_dbg_gid2 = 8</span>
</span><span class="hll"><span class="go">__ocl_dbg_lid0 = 93825034429928</span>
</span><span class="hll"><span class="go">__ocl_dbg_lid1 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_lid2 = 93825034429936</span>
</span><span class="hll"><span class="go">__ocl_dbg_grid0 = 4599075939470750515</span>
</span><span class="hll"><span class="go">__ocl_dbg_grid1 = 0</span>
</span><span class="hll"><span class="go">__ocl_dbg_grid2 = 0</span>
</span><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">print a</span>
<span class="gp">$</span><span class="nv">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;\000&#39;</span><span class="w"> </span>&lt;repeats<span class="w"> </span><span class="m">55</span><span class="w"> </span>times&gt;
</pre></div>
</div>
<p>When the debugger hits the last line of the kernel, <code class="docutils literal notranslate"><span class="pre">info</span> <span class="pre">locals</span></code> command returns all the local variables with their values.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="altering.html" class="btn btn-neutral float-left" title="Altering Execution" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="numba-0.55.html" class="btn btn-neutral float-right" title="Debugging Features in Numba 0.55" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2023 Intel Corporation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>